<!DOCTYPE html>
<html dir="rtl">

<head>
    <meta charset="UTF-8">
    <link
        href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&family=Roboto:wght@400;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <header>
        <div class="brand">
            <span>YouTube</span> Subtitle Pro
        </div>
        <div class="lang-toggle" id="langSwitcher">
            <div class="lang-btn active" data-lang="ar">AR</div>
            <div class="lang-btn" data-lang="en">EN</div>
        </div>
    </header>

    <div class="preview-container">
        <div class="preview-overlay"></div>
        <div id="previewText" class="preview-text">نص تجريبي</div>
    </div>

    <div class="tabs-nav">
        <div class="tab-btn active" data-tab="tab-main" data-i18n="tabMain">رئيسي</div>
        <div class="tab-btn" data-tab="tab-style" data-i18n="tabStyle">المظهر</div>
        <div class="tab-btn" data-tab="tab-advanced" data-i18n="tabAdvanced">متقدم</div>
    </div>

    <!-- TAB 1: MAIN (Presets, Size, Pos) -->
    <div id="tab-main" class="tab-content active">

        <div class="control-section">
            <div class="section-title" data-i18n="presets">القوالب السريعة</div>
            <div class="presets-grid">
                <div id="presetCinema" class="preset-card">
                    <div class="preset-preview style-cinema">Aa</div>
                    <span data-i18n="presetCinema">سينمائي</span>
                </div>
                <div id="presetMinimal" class="preset-card">
                    <div class="preset-preview style-minimal">Aa</div>
                    <span data-i18n="presetMinimal">بسيط</span>
                </div>
                <div id="presetContrast" class="preset-card">
                    <div class="preset-preview style-contrast">Aa</div>
                    <span data-i18n="presetContrast">تباين عالي</span>
                </div>
            </div>
        </div>

        <div class="control-section">
            <div class="section-title" data-i18n="typography">الخط والنصوص</div>
            <div class="control-row">
                <label class="control-label" data-i18n="fontSize">الحجم</label>
                <input type="range" id="fontSize" min="15" max="80" value="38">
            </div>
            <div class="control-row">
                <label class="control-label" data-i18n="bottomPos">الارتفاع</label>
                <input type="range" id="bottomPos" min="0" max="50" value="10">
            </div>
        </div>

        <div class="control-section">
            <div class="section-title" data-i18n="fullscreenOptions">خيارات ملء الشاشة</div>
            <div class="control-row">
                <label class="control-label" data-i18n="fullscreenAssistant" style="flex:3">مساعد ملء الشاشة</label>
                <label class="switch">
                    <input type="checkbox" id="fullscreenAssistant" checked>
                    <span class="slider"></span>
                </label>
            </div>
        </div>

    </div>

    <!-- TAB 2: STYLE (Colors, Font, Effects) -->
    <div id="tab-style" class="tab-content">

        <div class="control-section">
            <div class="section-title" data-i18n="typography">الخط</div>
            <div class="control-row">
                <select id="fontFamily">
                    <option value="'Tajawal', sans-serif" data-i18n="tajawal">Tajawal</option>
                    <option value="'Roboto', sans-serif" data-i18n="roboto">Roboto</option>
                    <option value="'Arial', sans-serif" data-i18n="arial">Arial</option>
                    <option value="'Courier New', monospace" data-i18n="cinema">Cinema</option>
                </select>
            </div>
            <div class="control-row">
                <label class="control-label" data-i18n="fontWeight">السماكة</label>
                <select id="fontWeight">
                    <option value="400" data-i18n="normal">Normal</option>
                    <option value="700" data-i18n="bold">Bold</option>
                    <option value="900" data-i18n="black">Heavy</option>
                </select>
            </div>
        </div>

        <div class="control-section">
            <div class="section-title" data-i18n="appearance">الألوان</div>
            <div class="control-row">
                <label class="control-label" data-i18n="fontColor">لون النص</label>
                <div class="color-wrapper">
                    <input type="color" id="fontColor" value="#ffffff">
                </div>
            </div>
            <div class="control-row">
                <label class="control-label" data-i18n="strokeColor">لون الحدود</label>
                <div class="color-wrapper">
                    <input type="color" id="strokeColor" value="#000000">
                </div>
            </div>
        </div>

        <div class="control-section">
            <div class="section-title" data-i18n="appearance">التأثيرات</div>
            <div class="control-row">
                <label class="control-label" data-i18n="shadowIntensity">الظل</label>
                <input type="range" id="shadowIntensity" min="0" max="20" value="4">
            </div>
            <div class="control-row">
                <label class="control-label" data-i18n="bgOpacity">خلفية النص</label>
                <input type="range" id="bgOpacity" min="0" max="100" value="0">
            </div>
        </div>

    </div>

    <!-- TAB 3: ADVANCED (Pro, Templates, Actions) -->
    <div id="tab-advanced" class="tab-content">

        <div class="control-section">
            <div class="section-title" data-i18n="customTemplates">القوالب الخاصة</div>
            <div style="display:flex; gap:8px; margin-bottom:12px;">
                <input type="text" id="templateNameInput" class="template-input" placeholder="اسم القالب">
                <button id="saveTemplateBtn" class="btn btn-primary" data-i18n="saveTemplate">حفظ</button>
            </div>
            <div id="customTemplatesList">
                <!-- Templates Injected Here -->
            </div>
        </div>

        <div class="control-section">
            <div class="section-title" data-i18n="advanced">تفاصيل دقيقة</div>
            <div class="control-row">
                <label class="control-label" data-i18n="strokeWidth">سماكة الحدود</label>
                <input type="range" id="strokeWidth" min="0" max="6" value="1">
            </div>
            <div class="control-row">
                <label class="control-label" data-i18n="lineHeight">تباعد الأسطر</label>
                <input type="range" id="lineHeight" min="1.0" max="2.0" step="0.05" value="1.25">
            </div>
            <div class="control-row">
                <label class="control-label" data-i18n="letterSpacing">تباعد الحروف</label>
                <input type="range" id="letterSpacing" min="-1" max="3" step="0.1" value="0">
            </div>
            <div class="control-row">
                <label class="control-label" data-i18n="padding">حواف داخلية</label>
                <input type="range" id="padding" min="0" max="20" value="8">
            </div>
            <div class="control-row">
                <label class="control-label" data-i18n="borderRadius">انحناء الخلفية</label>
                <input type="range" id="borderRadius" min="0" max="20" value="6">
            </div>
            <div class="control-row">
                <label class="control-label" data-i18n="textAlign">محاذاة</label>
                <select id="textAlign">
                    <option value="center" data-i18n="alignCenter">Center</option>
                    <option value="left" data-i18n="alignLeft">Left</option>
                    <option value="right" data-i18n="alignRight">Right</option>
                </select>
            </div>
        </div>

        <div class="control-section">
            <div class="section-title">Actions</div>
            <div class="actions-row">
                <button id="exportBtn" class="btn btn-secondary" data-i18n="export">Export</button>
                <button id="importBtn" class="btn btn-secondary" data-i18n="import">Import</button>
            </div>
            <button id="resetBtn" class="btn btn-secondary full-width"
                style="margin-top:10px; color:#ff5555; border-color:#ff5555;" data-i18n="reset">Reset Default</button>
            <input id="importFile" type="file" accept="application/json" style="display:none" />
        </div>

    </div>

    <script src="i18n.js"></script>
    <script src="popup.js"></script>
</body>

</html>